{% extends 'customer/base.html.twig' %}

{% block title %}Hello CustomerController!{% endblock %}

{% block body %}

<h1 class="text-2xl font-bold mb-6">Welcome to your Dashboard</h1>

<div class="grid grid-cols-2 gap-6 mb-10">

    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="text-lg font-semibold">Total Orders</h2>
        <p class="text-2xl font-bold text-blue-600">{{ orders|length }}</p>
    </div>

    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="text-lg font-semibold">Total Amount Spent</h2>
        <p class="text-2xl font-bold text-green-600">
           {{ totalSpent|number_format(2) }} â‚¬
        </p>
    </div>

</div>

<h2 class="text-xl font-bold mb-4"> Order History</h2>

<div class="bg-white shadow rounded-xl overflow-hidden">
    <table class="min-w-full text-sm border-collapse">
        <thead class="bg-blue-100 text-blue-800 uppercase text-xs tracking-wider">
            <tr>
                <th class="px-4 py-3 text-left border-b border-gray-200">Date</th>
                <th class="px-4 py-3 text-left border-b border-gray-200">Reference</th>
                <th class="px-4 py-3 text-left border-b border-gray-200">Status</th>
                <th class="px-4 py-3 text-left border-b border-gray-200">Total</th>
            </tr>
        </thead>

        <tbody class="text-gray-800">
            {% for order in orders %}
                <tr class="hover:bg-gray-50">
                    <td class="px-4 py-2 border-b border-gray-200 text-indigo-600">{{ order.orderDate|date('Y-m-d') }}</td>
                    <td class="px-4 py-2 border-b border-gray-200 font-medium text-indigo-600">{{ order.orderReference }}</td>
                    <td class="px-4 py-2 border-b border-gray-200">
                        {% if order.isDelivered %}
                            <span class="text-green-600 font-semibold">Delivered</span>
                        {% elseif order.isShipped %}
                            <span class="text-blue-600 font-semibold">Shipped</span>
                        {% elseif order.isProcessed %}
                            <span class="text-yellow-600 font-semibold">Processed</span>
                        {% else %}
                            <span class="text-gray-600 font-semibold">Pending</span>
                        {% endif %}
                    </td>
                    <td class="px-4 py-2 border-b border-gray-200 text-green-600">${{ order.total }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
